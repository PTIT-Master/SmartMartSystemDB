<div class="container">
  <h2>{{ if .IsNew }}Thêm nhân viên{{ else }}Chỉnh sửa nhân viên{{ end }}</h2>

  <form method="POST" action="{{ if .IsNew }}/employees{{ else }}/employees/{{ .Employee.EmployeeID }}{{ end }}">
    {{ if not .IsNew }}
      <input type="hidden" name="_method" value="PUT" />
    {{ end }}

    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">Mã nhân viên</label>
        <input name="employee_code" class="form-control" value="{{ if .Employee }}{{ .Employee.EmployeeCode }}{{ end }}" required />
      </div>
      <div class="col-md-8">
        <label class="form-label">Họ tên</label>
        <input name="full_name" class="form-control" value="{{ if .Employee }}{{ .Employee.FullName }}{{ end }}" required />
      </div>

      <div class="col-md-6">
        <label class="form-label">Vị trí</label>
        <select name="position_id" class="form-select" required>
          {{ range .Positions }}
            <option value="{{ .PositionID }}" {{ if $.Employee }}{{ if eq $.Employee.PositionID .PositionID }}selected{{ end }}{{ end }}>{{ .PositionName }}</option>
          {{ end }}
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label">Ngày vào làm</label>
        <input type="date" name="hire_date" class="form-control" value="{{ if .Employee }}{{ formatDateYMD .Employee.HireDate }}{{ end }}" required />
      </div>
      <div class="col-md-3 d-flex align-items-end">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="is_active" id="is_active" {{ if .Employee }}{{ if .Employee.IsActive }}checked{{ end }}{{ else }}checked{{ end }}>
          <label class="form-check-label" for="is_active">Đang làm</label>
        </div>
      </div>

      <div class="col-md-4">
        <label class="form-label">Điện thoại</label>
        <input name="phone" class="form-control" value="{{ if .Employee }}{{ .Employee.Phone }}{{ end }}" />
      </div>
      <div class="col-md-4">
        <label class="form-label">Email</label>
        <input type="email" name="email" class="form-control" value="{{ if .Employee }}{{ .Employee.Email }}{{ end }}" />
      </div>
      <div class="col-md-4">
        <label class="form-label">CMND/CCCD</label>
        <input name="id_card" class="form-control" value="{{ if .Employee }}{{ .Employee.IDCard }}{{ end }}" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Địa chỉ</label>
        <input name="address" class="form-control" value="{{ if .Employee }}{{ .Employee.Address }}{{ end }}" />
      </div>
      <div class="col-md-6">
        <label class="form-label">Tài khoản ngân hàng</label>
        <input name="bank_account" class="form-control" value="{{ if .Employee }}{{ .Employee.BankAccount }}{{ end }}" />
      </div>

      <div class="col-12">
        <button class="btn btn-primary" type="submit">Lưu</button>
        <a href="/employees" class="btn btn-secondary">Hủy</a>
      </div>
    </div>
  </form>
</div>


